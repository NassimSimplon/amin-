{"ast":null,"code":"import { fetchLogin } from \"../helpers/axios\";\nexport const LOGIN_REQUEST = 'LOGIN_REQUEST';\nexport const login = user => async dispatch => {\n  try {\n    dispatch({\n      type: LOGIN_REQUEST\n    });\n    const res = await fetchLogin({\n      user\n    });\n\n    if (res.status === 200) {\n      const {\n        token,\n        user\n      } = res.data;\n      localStorage.setItem('token', token);\n      dispatch({\n        type: 'LOGIN_SUCCESS',\n        payload: {\n          token,\n          user\n        }\n      });\n    } else {\n      if (res.status === 400) {\n        dispatch({\n          type: \"LOGIN_FAILED\",\n          payload: {\n            error: res.data.error\n          }\n        });\n      }\n    }\n\n    console.log(\"payload\");\n  } catch (error) {\n    console.log(error);\n  }\n};","map":{"version":3,"sources":["/home/nassim/Desktop/test-auth/client/src/actions/authactions.js"],"names":["fetchLogin","LOGIN_REQUEST","login","user","dispatch","type","res","status","token","data","localStorage","setItem","payload","error","console","log"],"mappings":"AAAA,SAAQA,UAAR,QAAyB,kBAAzB;AACA,OAAO,MAAMC,aAAa,GAAG,eAAtB;AAGP,OAAO,MAAMC,KAAK,GAAGC,IAAD,IAAS,MAAOC,QAAP,IAAmB;AAE5C,MAAG;AACCA,IAAAA,QAAQ,CAAC;AACLC,MAAAA,IAAI,EAACJ;AADA,KAAD,CAAR;AAKA,UAAMK,GAAG,GAAE,MAAMN,UAAU,CAAE;AAACG,MAAAA;AAAD,KAAF,CAA3B;;AACA,QAAIG,GAAG,CAACC,MAAJ,KAAe,GAAnB,EAAuB;AACnB,YAAM;AAACC,QAAAA,KAAD;AAAOL,QAAAA;AAAP,UAAeG,GAAG,CAACG,IAAzB;AACAC,MAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA6BH,KAA7B;AACAJ,MAAAA,QAAQ,CAAC;AACLC,QAAAA,IAAI,EAAC,eADA;AAELO,QAAAA,OAAO,EAAC;AACJJ,UAAAA,KADI;AACEL,UAAAA;AADF;AAFH,OAAD,CAAR;AAOF,KAVF,MAUM;AACF,UAAGG,GAAG,CAACC,MAAJ,KAAe,GAAlB,EAAsB;AAClBH,QAAAA,QAAQ,CAAC;AACLC,UAAAA,IAAI,EAAC,cADA;AAELO,UAAAA,OAAO,EAAC;AAACC,YAAAA,KAAK,EAACP,GAAG,CAACG,IAAJ,CAASI;AAAhB;AAFH,SAAD,CAAR;AAIH;AAEJ;;AAEDC,IAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ;AACH,GA5BD,CA6BA,OAAOF,KAAP,EAAc;AACJC,IAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACA;AACb,CAlCM","sourcesContent":["import {fetchLogin} from \"../helpers/axios\"\nexport const LOGIN_REQUEST = 'LOGIN_REQUEST'\n \n\nexport const login =(user)=> async (dispatch) =>{\n    \n    try{\n        dispatch({\n            type:LOGIN_REQUEST\n            \n        })\n       \n        const res =await fetchLogin ({user});\n        if (res.status === 200){\n            const {token,user} = res.data\n            localStorage.setItem('token',token)\n            dispatch({\n                type:'LOGIN_SUCCESS',\n                payload:{\n                    token,user\n                }\n               \n            })\n         }else{\n            if(res.status === 400){\n                dispatch({\n                    type:\"LOGIN_FAILED\",\n                    payload:{error:res.data.error}\n                })\n            }\n\n        }\n      \n        console.log(\"payload\")\n    }\n    catch (error) {\n              console.log(error);\n             }\n}\n"]},"metadata":{},"sourceType":"module"}